{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\src\\\\components\\\\FileShare\\\\index.jsx\";\nimport React, { useState } from 'react';\nimport FileAccess from \"../FileAccess\";\nexport default function Index(props) {\n  var _useState = useState({\n    inputText: \"\",\n    fileAcc: [/*#__PURE__*/React.createElement(FileAccess, {\n      key: 0,\n      file: props.file,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 19\n      }\n    })],\n    key: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileShareState = _useState2[0],\n      setFileShareState = _useState2[1];\n\n  function handleInputChange(event) {\n    var value = event.target.value;\n    setFileShareState({\n      inputText: value,\n      fileAcc: fileShareState.fileAcc,\n      key: fileShareState.key\n    });\n  }\n\n  function openClick(e) {\n    var _this = this;\n\n    console.log(\"Add/Share Clicked!\");\n    console.log(e);\n    console.log(props.file);\n    fetch(\"/api/files/share/add\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        fileId: e,\n        shareWith: fileShareState.inputText,\n        access: 0\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(res.status);\n\n                if (!(res.status === 200)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 4;\n                return res.json();\n\n              case 4:\n                data = _context.sent;\n                setFileShareState({\n                  inputText: \"\",\n                  fileAcc: [/*#__PURE__*/React.createElement(FileAccess, {\n                    key: fileShareState.key + 1,\n                    file: data,\n                    __self: _this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 30,\n                      columnNumber: 62\n                    }\n                  })],\n                  key: fileShareState.key + 1\n                });\n                _context.next = 9;\n                break;\n\n              case 8:\n                res.text().then(function (text) {\n                  alert(\"Error please try again -\" + text);\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).catch(function (err) {\n      console.log(err);\n      alert(\"Error adding file in please try again\");\n    });\n  }\n\n  if (props.file.sharable) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"description\",\n      placeholder: \"Enter Username\",\n      value: fileShareState.inputText,\n      onChange: handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return openClick(props.file.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, \"Add\"), fileShareState.fileAcc);\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    });\n  }\n}","map":{"version":3,"sources":["C:/Users/ASUS/Downloads/Compressed/file-manager-auth-mern-master/file-manager-auth-mern-master/client/src/components/FileShare/index.jsx"],"names":["React","useState","FileAccess","Index","props","inputText","fileAcc","file","key","fileShareState","setFileShareState","handleInputChange","event","value","target","openClick","e","console","log","fetch","method","body","JSON","stringify","fileId","shareWith","access","headers","then","res","status","json","data","text","alert","catch","err","sharable","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport FileAccess from \"../FileAccess\"\n\nexport default function Index(props) {\n    const [fileShareState, setFileShareState] = useState({\n        inputText: \"\",\n        fileAcc: [<FileAccess key={0} file={props.file} />],\n        key: 0\n    })\n   \n    function handleInputChange(event) {\n        const { value } = event.target;\n        setFileShareState({ inputText: value, fileAcc: fileShareState.fileAcc, key: fileShareState.key });\n    }\n    function openClick(e) {\n        console.log(\"Add/Share Clicked!\");\n        console.log(e);\n        console.log(props.file);\n        fetch(\"/api/files/share/add\", {\n            method: \"POST\",\n            body: JSON.stringify({ fileId: e, shareWith: fileShareState.inputText, access: 0 }),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then(async res => {\n            console.log(res.status)\n            if (res.status === 200) {\n                //   showFiles();\n                const data = await res.json();\n                setFileShareState({ inputText: \"\", fileAcc: [<FileAccess key={fileShareState.key + 1} file={data} />], key: fileShareState.key + 1 });\n            } else {\n                res.text().then(text => { alert(\"Error please try again -\" + text) });\n            }\n        })\n            .catch(err => {\n                console.log(err);\n                alert(\"Error adding file in please try again\");\n            });\n    }\n    if (props.file.sharable) {\n        return (\n            <div>\n                <input type=\"text\" name=\"description\" placeholder=\"Enter Username\" value={fileShareState.inputText} onChange={handleInputChange} required />\n                <button onClick={() => openClick(props.file.id)}>Add</button>\n                {fileShareState.fileAcc}\n            </div>\n        )\n    }\n    else {\n        return (\n            <div>\n\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}