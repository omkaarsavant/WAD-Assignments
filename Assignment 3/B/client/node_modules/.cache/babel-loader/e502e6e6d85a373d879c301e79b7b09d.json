{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Compressed\\\\file-manager-auth-mern-master\\\\file-manager-auth-mern-master\\\\client\\\\src\\\\components\\\\withAuth.jsx\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nexport default function withAuth(ComponentToProtect) {\n  return /*#__PURE__*/function (_Component) {\n    _inherits(_class, _Component);\n\n    function _class() {\n      var _this;\n\n      _classCallCheck(this, _class);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this));\n      _this.state = {\n        loading: true,\n        redirect: false\n      };\n      return _this;\n    }\n\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        console.log(\"checking Auth...\");\n        fetch(\"/checkToken\").then(function (res) {\n          console.log(res);\n\n          if (res.status === 200) {\n            _this2.setState({\n              loading: false\n            });\n          } else {\n            var error = new Error(res.error);\n            throw error;\n          }\n        }).catch(function (err) {\n          console.error(err);\n\n          _this2.setState({\n            loading: false,\n            redirect: true\n          });\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$state = this.state,\n            loading = _this$state.loading,\n            redirect = _this$state.redirect;\n\n        if (loading) {\n          return null;\n        }\n\n        if (redirect) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/login\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 16\n            }\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(ComponentToProtect, Object.assign({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 14\n          }\n        }));\n      }\n    }]);\n\n    return _class;\n  }(Component);\n}","map":{"version":3,"sources":["C:/Users/ASUS/Downloads/Compressed/file-manager-auth-mern-master/file-manager-auth-mern-master/client/src/components/withAuth.jsx"],"names":["React","Component","Redirect","withAuth","ComponentToProtect","state","loading","redirect","console","log","fetch","then","res","status","setState","error","Error","catch","err","props"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,eAAe,SAASC,QAAT,CAAkBC,kBAAlB,EAAsC;AACnD;AAAA;;AACE,sBAAc;AAAA;;AAAA;;AACZ;AACA,YAAKC,KAAL,GAAa;AACXC,QAAAA,OAAO,EAAE,IADE;AAEXC,QAAAA,QAAQ,EAAE;AAFC,OAAb;AAFY;AAMb;;AAPH;AAAA;AAAA,0CAQsB;AAAA;;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAC,QAAAA,KAAK,CAAC,aAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG,EAAI;AACXJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;;AACA,cAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,YAAA,MAAI,CAACC,QAAL,CAAc;AAAER,cAAAA,OAAO,EAAE;AAAX,aAAd;AACD,WAFD,MAEO;AACL,gBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUJ,GAAG,CAACG,KAAd,CAAd;AACA,kBAAMA,KAAN;AACD;AACF,SATH,EAUGE,KAVH,CAUS,UAAAC,GAAG,EAAI;AACZV,UAAAA,OAAO,CAACO,KAAR,CAAcG,GAAd;;AACA,UAAA,MAAI,CAACJ,QAAL,CAAc;AAAER,YAAAA,OAAO,EAAE,KAAX;AAAkBC,YAAAA,QAAQ,EAAE;AAA5B,WAAd;AACD,SAbH;AAcD;AAxBH;AAAA;AAAA,+BAyBW;AAAA,0BACuB,KAAKF,KAD5B;AAAA,YACCC,OADD,eACCA,OADD;AAAA,YACUC,QADV,eACUA,QADV;;AAEP,YAAID,OAAJ,EAAa;AACX,iBAAO,IAAP;AACD;;AACD,YAAIC,QAAJ,EAAc;AACZ,8BAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,4BAAO,oBAAC,kBAAD,oBAAwB,KAAKY,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;AAlCH;;AAAA;AAAA,IAAqBlB,SAArB;AAoCD","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nexport default function withAuth(ComponentToProtect) {\n  return class extends Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false,\n      };\n    }\n    componentDidMount() {\n      console.log(\"checking Auth...\");\n      fetch(\"/checkToken\")\n        .then(res => {\n          console.log(res);\n          if (res.status === 200) {\n            this.setState({ loading: false });\n          } else {\n            const error = new Error(res.error);\n            throw error;\n          }\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({ loading: false, redirect: true });\n        });\n    }\n    render() {\n      const { loading, redirect } = this.state;\n      if (loading) {\n        return null;\n      }\n      if (redirect) {\n        return <Redirect to=\"/login\" />;\n      }\n      return <ComponentToProtect {...this.props} />;\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}